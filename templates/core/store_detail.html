{% extends 'base.html' %}

{% block title %}{% if is_rtl %}{{ store.name }}{% else %}{{ store.name_en|default:store.name }}{% endif %} - {{ app_settings.app_name }}{% endblock %}

{% block content %}
<div class="container py-4">
    <!-- Store Header -->
    <div class="card mb-4" style="border-radius: 20px; overflow: hidden;">
        {% if store.cover_image %}
        <div class="position-relative" style="height: 200px; background: url('{{ store.cover_image.url }}') center/cover;"></div>
        {% else %}
        <div class="position-relative" style="height: 150px; background: linear-gradient(135deg, {{ app_settings.primary_color }}, {{ app_settings.secondary_color }});"></div>
        {% endif %}
        <div class="card-body text-center" style="margin-top: -60px;">
            {% if store.logo %}
            <img src="{{ store.logo.url }}" alt="{{ store.name }}" class="rounded-circle bg-white p-2 shadow" style="width: 120px; height: 120px; object-fit: contain;">
            {% else %}
            <div class="rounded-circle bg-white p-4 shadow mx-auto d-flex align-items-center justify-content-center" style="width: 120px; height: 120px;">
                <i class="fas fa-store fa-3x text-muted"></i>
            </div>
            {% endif %}
            <h2 class="mt-3 mb-1">{% if is_rtl %}{{ store.name }}{% else %}{{ store.name_en|default:store.name }}{% endif %}</h2>
            <p class="text-muted">{{ store.active_coupons_count }} {% if is_rtl %}كوبون متاح{% else %}coupons available{% endif %}</p>
            {% if store.description %}
            <p class="mb-3">{% if is_rtl %}{{ store.description }}{% else %}{{ store.description_en|default:store.description }}{% endif %}</p>
            {% endif %}
            <a href="{{ store.url }}" target="_blank" class="btn btn-primary">
                <i class="fas fa-external-link-alt me-2"></i>
                {% if is_rtl %}زيارة المتجر{% else %}Visit Store{% endif %}
            </a>
        </div>
    </div>
    
    <!-- Store Coupons -->
    <h3 class="section-title mb-4">
        <i class="fas fa-tags me-2"></i>
        {% if is_rtl %}كوبونات {{ store.name }}{% else %}{{ store.name_en|default:store.name }} Coupons{% endif %}
    </h3>
    
    <div class="row g-4">
        {% for coupon in coupons %}
        {% include 'includes/coupon_card.html' %}
        {% empty %}
        <div class="col-12 text-center py-5">
            <i class="fas fa-tags fa-4x text-muted mb-3"></i>
            <h4>{% if is_rtl %}لا توجد كوبونات حالياً{% else %}No coupons available{% endif %}</h4>
            <p class="text-muted">{% if is_rtl %}سيتم إضافة كوبونات جديدة قريباً{% else %}New coupons will be added soon{% endif %}</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}